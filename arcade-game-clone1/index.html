<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Effective JavaScript: Frogger</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="modal" id="startModal" style="visibility:visible">
        <h3>游戏规则</h3>
        <p>玩家收集所有的宝石并渡河算完成一局游戏，每收集一个宝石得10分，当存在未收集的宝石时渡河无效。玩家通关一局后自动开始下一局，积分累加，当玩家碰到障碍物时，游戏结束。</p>
        <input type="button" value="开始" class="btn green-btn" onclick="start()">
    </div>
    <div class="modal" id="endModal" style="visibility:hidden">
        <h3>游戏结束</h3>
        <p>您的最终得分：
            <span id="score"></span>
        </p>
        <div class="row">
            <input type="button" value="再来一局" class="btn green-btn" onclick="restart()">
            <input type="button" value="退出游戏" class="btn yellow-btn" onclick="closeWindow()">
        </div>
    </div>
    <script src="js/resources.js"></script>
    <script src="js/app.js"></script>
    <script src="js/engine.js"></script>
    <script type="text/javascript">
    function closeWindow() {
      // window.location.href="about:blank";
      // window.close();
      if(navigator.userAgent.indexOf("Firefox") != -1 || navigator.userAgent.indexOf("Chrome") != -1) {
           open(location, '_self').close();
           window.location.href="about:blank";
           　　　　 window.close();
       }else {
           window.opener = null;
           window.open("", "_self");
           window.close();
           open(location, '_self').close();
       } 
    }

    </script>
</body>

</html>
